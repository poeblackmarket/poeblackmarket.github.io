
<div id="main" class="grid-container" ng-controller="SearchController" >
	<p><strong>-- This still very much a work in progress, but are working hard!</strong></p>
	<div class="grid-content"> 
		<!--div zf-panel="" id="panelName">
			<a zf-close="" class="button">Close Panel</a>
		-->	
				<label>Search Input</label>
				<input ng-model="searchInput" my-enter="doSearch()" size="150" type="text">
				<a href="#" ng-click="doSearch()" class="button" value="Search"/>Search</a>
				<hr width=100% size=1>			
		<!--/div-->
	</div>
	
	<div class="grid-content search-results">
		<!--a href="#" zf-toggle="panelName" class="button">Show Search</a-->
		
		<ul>
			<li>Request took {{Response.took}} ms
			<li>Request matched {{Response.hits.total}} hits
			<li>Query String: {{queryString}}
		</ul>
		
		<div class="grid-block search-items large-up-2">
			<div class="grid-content item" ng-repeat="item in Response.hits.hits"
				 data-id="{{item._id}}" data-md5sum="{{item._source.md5sum}}" data-uuid="{{item._source.uuid}}">

				<div class="grid-block item-border">
					<div class="grid-block item-header medium-12 right-ju">
						<div class="controls" >
							<div class="switch small">
								<input type="checkbox" id="switch-{{item._id}}">
								<label for="switch-{{item._id}}"></label>
							</div>
							<span class="float-right">(soon)</span>
							<span>
								<img zf-iconic="" icon="cart" size="medium" ng-click="" class="float-right iconic-color-secondary">
							</span>

						</div>
					</div>
					<div class="grid-block item-inner-border">
						<div class="grid-block item-box-left">

							<div class="grid-block image-container" ng-style="{'background-image': 'url({{ item._source.info.icon}})'}">
								<div class="socket" ng-repeat="(socketNr, color) in item._source.sockets.sortedLinkGroup"
										ng-class-odd="'socketLeft'" ng-class-even="'socketRight'"
										ng-class="{middle: socketNr == 2 || socketNr == 3, bottom: socketNr == 4 || socketNr == 5, socketBlue: color=='B', socketGreen: color=='G', socketWhite: color=='W'}"
										>
								</div>
							</div>

							<div class="grid-block item-info">
								<div class="vertical grid-block">
									<div class="grid-block">
										<h5 class="item-name">
											<span class="label corrupted" ng-if="item._source.attributes.corrupted">Corrupted</span>
											<a class="name" href="http://www.pathofexile.com/forum/view-thread/{{item._source.shop.threadid}}" target="_blank">
												{{item._source.info.fullName}}
											</a>
										</h5>
									</div>

									<div class="grid-block requirements">
										<span class="sortable"
											  ng-show="{{item._source.requirements.iLvl}}"
											  data-value="{{item._source.requirements.iLvl}}"
											  data-name="iLvl">
											Item Lvl: {{item._source.requirements.iLvl}}
											<i class="seperator"></i>
										</span>

										<span class="sortable"
											  ng-show="{{item._source.requirements.Level}}"
											  data-value="{{item._source.requirements.Level}}"
											  data-name="Level">
											Level: {{item._source.requirements.Level}}
											<i class="seperator"></i>
										</span>

										<span class="sortable"
											  ng-show="{{item._source.requirements.Str}}"
											  data-value="{{item._source.requirements.Str}}"
											  data-name="Str">
											Strength: {{item._source.requirements.Str}}
											<i class="seperator"></i>
										</span>

										<span class="sortable"
											  ng-show="{{item._source.requirements.Dex}}"
											  data-value="{{item._source.requirements.Dex}}"
											  data-name="Int">
											Intelligence: {{item._source.requirements.Dex}}
											<i class="seperator"></i>
										</span>

										<span class="sortable"
											  ng-show="{{item._source.requirements.Int}}"
											  data-value="{{item._source.requirements.Int}}"
											  data-name="Int">
											Intelligence: {{item._source.requirements.Int}}
										</span>
									</div>

									<div class="grid-block mods">
										<ul>
											<li class="sortable" ng-repeat="(mod, value) in item._source.modsTotal"
												ng-class="{implicit: ($index+1) <= item._source.attributes.implicitModsCount,
												firstExplicit: ($index) == item._source.attributes.implicitModsCount}"
												data-mod="{{mod}}" data-value="{{value}}">
												<strong>Mod:</strong>{{mod}}, <strong>Value:</strong>{{value}}
											</li>
											<li class="unidentified" ng-if="item._source.attributes.identified==false">Unidentified</li>
										</ul>
									</div>

									<div class="grid-block sell-infos">
										<span class="sortable price amount"
											  ng-if="item._source.shop.amount"
											  data-value="{{item._source.shop.amount}}"
											  data-name="Price in {{item._source.shop.currency}}"
											  title="{{item._source.shop.amount}} {{item._source.shop.currency}}">
											{{item._source.shop.amount}}Ã—
										</span>
										<span class="sortable price"
											  ng-if="item._source.shop.amount"
											  title="{{item._source.shop.amount}} {{item._source.shop.currency}}">
											<span class="currency {{item._source.shop.currency}}"></span>
											<i class="seperator"></i>
										</span>

										<span class="click verified {{item._source.shop.verified}}">
											Verify
											<span class=""></span>
											<i class="seperator"></i>
										</span>

										<span class="" data-ign="{{item._source.shop.sellerAccount}}">
											IGN: {{item._source.shop.sellerAccount}}
											<i class="seperator"></i>
										</span>

										<span>
											<a href="#" ng-click="" class="click whisper-btn">Whisper</a>
										</span>
									</div>
								</div>
							</div>
						</div>
						<div class="grid-block item-box-right">
							<div class="item-stats">
								<div class="grid-block"></div>
							</div>
							<div class="item-stats">
								<div class="grid-block"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div>
